window.addEventListener("DOMContentLoaded",()=>{var e=JSON.parse(localStorage.getItem("user"));e&&firebase.auth().signInWithEmailAndPassword(e.email,e.password).then(e=>{e=e.user;console.log("User logged in:",e),showLoggedInInterface()}).catch(e=>{console.error("Login error:",e.message)})});const openModalBtn=document.querySelector(".open_reg-modal"),modal=document.querySelector(".modal"),closeModal=document.querySelector(".modal__close-btn"),regNodde=(openModalBtn.addEventListener("click",function(e){e.preventDefault(),modal.classList.add("open")}),closeModal.addEventListener("click",function(e){e.preventDefault(),modal.classList.remove("open")}),document.querySelector(".modal__sign-up")),loginNode=document.querySelector(".modal__sign-in"),linkToRegNode=document.querySelector(".modal-register-btn"),linkToLoginNode=document.querySelector(".modal-login-btn");linkToRegNode.addEventListener("click",function(e){e.preventDefault(),loginNode.classList.add("hide"),regNodde.classList.remove("hide")}),linkToLoginNode.addEventListener("click",function(e){e.preventDefault(),regNodde.classList.add("hide"),loginNode.classList.remove("hide")});import{initializeApp}from"https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";import{getAuth,createUserWithEmailAndPassword}from"https://www.gstatic.com/firebasejs/10.9.0/firebase-auth.js";const firebaseConfig={apiKey:"AIzaSyBH0JKKgglFZUriWv1uhnr9ZSiw6M-6i7Q",authDomain:"my-blog-9045c.firebaseapp.com",projectId:"my-blog-9045c",storageBucket:"my-blog-9045c.appspot.com",messagingSenderId:"569888142571",appId:"1:569888142571:web:01604044d1a496c6d47aae"},app=initializeApp(firebaseConfig),signupBtnNode=(firebase.initializeApp(firebaseConfig),document.querySelector("#signupbtn")),inputBox=document.querySelector("#inputbox");function showLoggedInInterface(){signupBtnNode.classList.add("hide"),inputBox.classList.remove("hide")}function registerUser(e,o){return createUserWithEmailAndPassword(getAuth(app),e,o)}let regBtn=document.querySelector("#register");function register(){const o=document.querySelector("#registerPost").value,t=document.querySelector("#registerPassw").value;console.log(o,t),registerUser(o,t).then(e=>{console.log("User registered:",e.user),localStorage.setItem("user",JSON.stringify({email:o,password:t})),firebase.auth().onAuthStateChanged(function(e){e?(console.log("User is logged in"),showLoggedInInterface()):console.log("User is not logged in")})}).catch(e=>{console.error("Registration error:",e.message)})}regBtn.addEventListener("click",function(e){e.preventDefault(),register()});